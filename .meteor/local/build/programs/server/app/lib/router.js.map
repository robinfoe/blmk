{"version":3,"sources":["meteor://ðŸ’»app/lib/router.js"],"names":[],"mappings":";;;;;;;;AAAA,MAAM,CAAC,SAAS,CAAC;;AAEf,eAAc,EAAE,YAAY;CAC7B,CAAC,CAAC;;AAGH,MAAM,CAAC,cAAc,CAAC,YAAU;AAC/B,KAAI,aAAa,GAAG,UAAU,CAAC;AAC/B,KAAI,YAAY,GAAG,aAAa,GAAC,QAAQ;AACzC,KAAI,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,aAAa,CAAC,MAAM,CAAC,KAAK,aAAa,CAAC;AAC9E,KAAI,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,YAAY,CAAC,MAAM,CAAC,KAAK,YAAY,CAAC;;AAEjF,KAAG,YAAY,IAAI,CAAC,cAAc,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,EAC9D,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC;;AAE9B,KAAI,CAAC,MAAM,CAAE,SAAS,GAAI,aAAa,GAAE,YAAY,CAAC,CAAC;;;;;;;;;;;;;;;;;;;AAqBvD,KAAI,CAAC,IAAI,EAAE,CAAC;CACZ,CAAC,CAAC;;AAEH,MAAM,CAAC,KAAK,CAAC,GAAG,EAAG;AAClB,OAAM,EAAE,YAAY;AAChB,SAAO,CAAC,MAAM,CAAC,SAAS,CAAC,kBAAkB,EAAC,GAAG,CAAC,EAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;EACjF;AACD,OAAM,EAAE,YAAU;AACjB,MAAI,IAAI,CAAC,KAAK,EAAE,EAAC;AAChB,OAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;GACpB,MAAI;;;GAGJ;EACD;;CASD,CAAC,CAAC;;;;;;;;;;AAKH,MAAM,CAAC,KAAK,CAAC,gBAAgB,EAAE;AAC9B,OAAM,EAAE,YAAU;AACjB,MAAI,IAAI,CAAC,KAAK,EAAE,EAAC;AAChB,OAAI,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;GAC5B,MAAI;;;GAGJ;EACD;CACD,CAAC,CAAC;;AAGH,MAAM,CAAC,KAAK,CAAC,iBAAiB,EAAE,YAAU;AACzC,OAAM,CAAC,MAAM,CAAC,UAAS,OAAO,EAAC;AAC9B,QAAM,CAAC,EAAE,CAAC,gBAAgB,CAAC,CAAC;EAC5B,CAAC,CAAC;CACH,CAAC,CAAC;;AAGH,MAAM,CAAC,KAAK,CAAC,oBAAoB,EAAE;AAClC,OAAM,EAAE,YAAU;AACjB,MAAI,IAAI,CAAC,KAAK,EAAE,EAAC;AAChB,OAAI,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;GAC7B,MAAI;;;GAGJ;EACD;CACD,CAAC,CAAC;;AAGH,MAAM,CAAC,KAAK,CAAC,kCAAkC,EAAE;AAChD,OAAM,EAAE,YAAU;AACjB,MAAI,IAAI,CAAC,KAAK,EAAE,EAAC;AAChB,OAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;GACjC,MAAI;;;GAGJ;EACD;CACD,CAAC,CAAC,sE","file":"/lib/router.js","sourcesContent":["Router.configure({\n  // the default layout\n  layoutTemplate: 'mainLayout'\n});  \n\n\nRouter.onBeforeAction(function(){\n\tvar backendPrefix = \"/backend\";\n\tvar backendLogin = backendPrefix+'/login'\n\tvar isBackend = this.url.substring(0, backendPrefix.length) === backendPrefix;\n\tvar isBackendLogin = this.url.substring(0, backendLogin.length) === backendLogin;\n\n\tif(backendLogin && !isBackendLogin && !CREDENTIAL.isAdminUser())\n\t\tthis.router.go(backendLogin);\n\n\tthis.layout((isBackend) ? 'adminLayout': 'mainLayout');\n\t\n\n\t/*\n\tif(!isBackend)\n\t\tthis.layout('mainLayout');\n\telse{\n\t\tif( !isBackendLogin && !CREDENTIAL.isAdminUser())\n\t\t\trouter.go(backendLogin);\n\t\telse\n\t\t\tthis.layout('adminLayout');\n\t}\n\n\n\tif(this.url.substring(0, backendPrefix.length) === backendPrefix){\n\t\tthis.layout('adminLayout');\n\t}else{\n\t\tthis.layout('mainLayout');\n\t}\n\t*/\n\n\tthis.next();\n});\n\nRouter.route('/' , {\n\twaitOn: function () {\n    \treturn [Meteor.subscribe('publicPortfolios','Y'),Meteor.subscribe('uploads')];\n\t},\n\taction: function(){\n\t\tif (this.ready()){\n\t\t\tthis.render('home');\n\t\t}else{\n\t\t//this.next();\n\t\t//render splash screen... .\n\t\t}\n\t},\n\n\t/*\n\tpreload : {\n\t\t'verbose': true,\n\t\t'timeOut': 5000, \n\t\t'sync'   : 'scripts/froogaloop/script.js',\n\t}\n\t*/\n});\n\n\n\n/*** BACK END Router *****************/\nRouter.route('/backend/login' ,{\n\taction: function(){\n\t\tif (this.ready()){\n\t\t\tthis.render('backendLogin');\n\t\t}else{\n\t\t\t//this.next();\n\t\t\t//render splash screen... .\n\t\t}\n\t}\n});\n\n\nRouter.route('/backend/logout' ,function(){\n\tMeteor.logout(function(message){\n\t\tRouter.go('/backend/login');\n\t});\n});\n\n\nRouter.route('/backend/portfolio' ,{\n\taction: function(){\n\t\tif (this.ready()){\n\t\t\tthis.render('portfolioList');\n\t\t}else{\n\t\t\t//this.next();\n\t\t\t//render splash screen... .\n\t\t}\n\t}\n});\n\n\nRouter.route('/backend/portfolio/maintain/:_id' ,{\n\taction: function(){\n\t\tif (this.ready()){\n\t\t\tthis.render('portfolioMaintain');\n\t\t}else{\n\t\t\t//this.next();\n\t\t\t//render splash screen... .\n\t\t}\n\t}\n});\n\n\n"]}