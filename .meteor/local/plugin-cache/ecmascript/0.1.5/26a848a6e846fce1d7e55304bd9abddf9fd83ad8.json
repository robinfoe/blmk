{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"Meteor.publish('publicPortfolios', function (pub) {\n\treturn Portfolios.find({ published: pub });\n});\n\nMeteor.publish('portfolios', function () {\n\treturn Portfolios.find({});\n});\n\nMeteor.publish('portfolioById', function (id) {\n\treturn Portfolios.find({ _id: new Mongo.ObjectID(id) });\n});\n\nMeteor.publish('uploads', function () {\n\treturn Uploads.find();\n});\n\nMeteor.methods({\n\t'upsertPortfolio': function (item) {\n\t\tdelete item.isEdit;\n\t\titem.updatedDate = new Date();\n\t\tif (!item._id || 0 === item._id.length) {\n\t\t\tdelete item._id;\n\t\t\titem.createdDate = new Date();\n\n\t\t\tPortfolios.insert(item);\n\t\t} else {\n\t\t\titem._id = new Mongo.ObjectID(item._id);\n\t\t\tPortfolios.update(item._id, { $set: {\n\t\t\t\t\ttitle: item.title,\n\t\t\t\t\tclient: item.client,\n\t\t\t\t\tdescription: item.description,\n\t\t\t\t\tsplash_image: item.splash_image,\n\t\t\t\t\tvideo_url: item.video_url,\n\t\t\t\t\tpublished: item.published,\n\t\t\t\t\tupdatedDate: item.updatedDate\n\t\t\t\t} });\n\t\t}\n\t},\n\n\t'removePortfolio': function (id) {\n\t\tid = new Mongo.ObjectID(id);\n\t\tPortfolios.remove(id);\n\t}\n});","ast":null,"map":{"version":3,"sources":["/server/publish.js"],"names":[],"mappings":"AAAA,MAAM,CAAC,OAAO,CAAC,kBAAkB,EAAE,UAAS,GAAG,EAAE;AAChD,QAAO,UAAU,CAAC,IAAI,CAAC,EAAC,SAAS,EAAG,GAAG,EAAC,CAAC,CAAC;CAC1C,CAAC,CAAC;;AAGH,MAAM,CAAC,OAAO,CAAC,YAAY,EAAE,YAAW;AACvC,QAAO,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;CAC3B,CAAC,CAAC;;AAEH,MAAM,CAAC,OAAO,CAAC,eAAe,EAAE,UAAS,EAAE,EAAE;AAC5C,QAAO,UAAU,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,IAAI,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAC,CAAC,CAAC;CACtD,CAAC,CAAC;;AAEH,MAAM,CAAC,OAAO,CAAC,SAAS,EAAE,YAAW;AACnC,QAAO,OAAO,CAAC,IAAI,EAAE,CAAC;CACvB,CAAC,CAAC;;AAIH,MAAM,CAAC,OAAO,CAAC;AACd,kBAAiB,EAAG,UAAS,IAAI,EAAC;AACjC,SAAO,IAAI,CAAC,MAAM,CAAC;AACnB,MAAI,CAAC,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC;AAC9B,MAAG,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,IAAI,CAAC,GAAG,CAAC,MAAM,EAAC;AACrC,UAAO,IAAI,CAAC,GAAG,CAAC;AAChB,OAAI,CAAC,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC;;AAE9B,aAAU,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;GACxB,MAAI;AACJ,OAAI,CAAC,GAAG,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACxC,aAAU,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,EAAC,IAAI,EAAG;AACnC,UAAK,EAAG,IAAI,CAAC,KAAK;AAClB,WAAM,EAAG,IAAI,CAAC,MAAM;AACpB,gBAAW,EAAG,IAAI,CAAC,WAAW;AAC9B,iBAAY,EAAG,IAAI,CAAC,YAAY;AAChC,cAAS,EAAG,IAAI,CAAC,SAAS;AAC1B,cAAS,EAAG,IAAI,CAAC,SAAS;AAC1B,gBAAW,EAAG,IAAI,CAAC,WAAW;KAC9B,EAAC,CAAC,CAAC;GAEJ;EACD;;AAED,kBAAiB,EAAG,UAAS,EAAE,EAAC;AAC/B,IAAE,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;AAC5B,YAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;EACtB;CACD,CAAC,CAAC","file":"/server/publish.js.map","sourcesContent":["Meteor.publish('publicPortfolios', function(pub) {\n\treturn Portfolios.find({published : pub});\n});\n\n\nMeteor.publish('portfolios', function() {\n\treturn Portfolios.find({});\n});\n\nMeteor.publish('portfolioById', function(id) {\n\treturn Portfolios.find({_id: new Mongo.ObjectID(id)});\n});\n\nMeteor.publish('uploads', function() {\n  return Uploads.find();\n});\n\n\n\nMeteor.methods({\n\t'upsertPortfolio' : function(item){\n\t\tdelete item.isEdit;\n\t\titem.updatedDate = new Date();\n\t\tif(!item._id || 0 === item._id.length){\n\t\t\tdelete item._id;\n\t\t\titem.createdDate = new Date();\n\t\t\t\n\t\t\tPortfolios.insert(item);\n\t\t}else{\n\t\t\titem._id = new Mongo.ObjectID(item._id);\n\t\t\tPortfolios.update(item._id, {$set : { \n\t\t\t\ttitle : item.title,\n\t\t\t\tclient : item.client,\n\t\t\t\tdescription : item.description,\n\t\t\t\tsplash_image : item.splash_image,\n\t\t\t\tvideo_url : item.video_url,\n\t\t\t\tpublished : item.published ,\n\t\t\t\tupdatedDate : item.updatedDate\n\t\t\t}});\n\n\t\t}\n\t},\n\t\n\t'removePortfolio' : function(id){\n\t\tid = new Mongo.ObjectID(id);\n\t\tPortfolios.remove(id);\n\t}\n});"]},"hash":"26a848a6e846fce1d7e55304bd9abddf9fd83ad8"}
