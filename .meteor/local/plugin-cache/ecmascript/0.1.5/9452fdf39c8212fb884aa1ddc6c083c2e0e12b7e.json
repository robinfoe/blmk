{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"//Meteor.subscribe('publicPortfolios', 'Y');\n\nvar VideoPlayer = {\n\tCACHE: {\n\t\tplayer: null\n\t},\n\n\tconstructPlayer: function (target) {\n\t\tvar iframe = $('#video')[0];\n\t\tiframe.attr('src', target.video_url);\n\t\tVideoPlayer.CACHE.player = $f(iframe);\n\t},\n\n\tplayVideo: function () {\n\t\t$('.overlay').css('left', 0);\n\t\t$('.overlay').addClass('show');\n\t\tVideoPlayer.CACHE.player.api(\"play\");\n\t},\n\n\tstopVideo: function () {\n\t\t$('.overlay').removeClass('show');\n\t\tsetTimeout(function () {\n\t\t\t$('.overlay').css('left', '-100%');\n\t\t}, 300);\n\t\tVideoPlayer.CACHE.player.api(\"pause\");\n\t\tVideoPlayer.CACHE.player = null;\n\t}\n};\n\nTemplate.home.helpers({\n\tportfolios: function () {\n\t\treturn Portfolios.find();\n\t}\n});\n\nTemplate.home.events({\n\t'click .play': function (event) {\n\t\tconsole.log(event);\n\t\tconsole.log(Blaze.getData(event.target));\n\t\tVideoPlayer.constructPlayer(event.target);\n\t\tVideoPlayer.playVideo();\n\t},\n\n\t'click .overlay': function (event) {\n\t\tVideoPlayer.stopVideo();\n\t}\n});\n\nTemplate.home.rendered = function () {\n\t$(\".video-container\").fitVids();\n\t// Iframe/player variables\n\t/*\n \n \tvar iframe = $('#video')[0];\n \tvar player = $f(iframe);\n \n   // Open on play\n   $('.play').click(function(){\n   \t$('.overlay').css('left', 0)\n     $('.overlay').addClass('show')\n     player.api(\"play\");\n \t});\n \n   // Closes on click outside\n   $('.overlay').click(function(){\n     $('.overlay').removeClass('show')\n     setTimeout(function() {\n       $('.overlay').css('left', '-100%')\n     }, 300);\n     player.api(\"pause\");\n   })\n \n */\n};","ast":null,"map":{"version":3,"sources":["/client/templates/home.js"],"names":[],"mappings":";;AAEA,IAAI,WAAW,GAAG;AACjB,MAAK,EAAG;AACP,QAAM,EAAG,IAAI;EACb;;AAED,gBAAe,EAAG,UAAS,MAAM,EAAC;AACjC,MAAI,MAAM,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5B,QAAM,CAAC,IAAI,CAAC,KAAK,EAAC,MAAM,CAAC,SAAS,CAAC,CAAC;AACpC,aAAW,CAAC,KAAK,CAAC,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC;EACtC;;AAED,UAAS,EAAG,YAAU;AACrB,GAAC,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC,CAAA;AACzB,GAAC,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAA;AAC9B,aAAW,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;EACxC;;AAED,UAAS,EAAG,YAAU;AACrB,GAAC,CAAC,UAAU,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;AAC/B,YAAU,CAAC,YAAW;AAAE,IAAC,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,OAAO,CAAC,CAAA;GAAE,EAAE,GAAG,CAAC,CAAC;AACnE,aAAW,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AACtC,aAAW,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;EACnC;CACD,CAAA;;AAGD,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC;AAClB,WAAU,EAAE,YAAY;AACtB,SAAO,UAAU,CAAC,IAAI,EAAE,CAAC;EAC1B;CACJ,CAAC,CAAC;;AAEH,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;AACpB,cAAa,EAAG,UAAS,KAAK,EAAC;AAC9B,SAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACnB,SAAO,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;AACzC,aAAW,CAAC,eAAe,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;AAC1C,aAAW,CAAC,SAAS,EAAE,CAAC;EAExB;;AAED,iBAAgB,EAAG,UAAS,KAAK,EAAC;AACjC,aAAW,CAAC,SAAS,EAAE,CAAC;EACxB;CACD,CAAC,CAAC;;AAEH,QAAQ,CAAC,IAAI,CAAC,QAAQ,GAAG,YAAU;AAClC,EAAC,CAAC,kBAAkB,CAAC,CAAC,OAAO,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;CAyBhC,CAAC","file":"/client/templates/home.js.map","sourcesContent":["//Meteor.subscribe('publicPortfolios', 'Y');\n\nvar VideoPlayer = {\n\tCACHE : {\n\t\tplayer : null\n\t},\n\n\tconstructPlayer : function(target){\n\t\tvar iframe = $('#video')[0];\n\t\tiframe.attr('src',target.video_url);\n\t\tVideoPlayer.CACHE.player = $f(iframe);\n\t},\n\n\tplayVideo : function(){\n\t\t$('.overlay').css('left', 0)\n    \t$('.overlay').addClass('show')\n    \tVideoPlayer.CACHE.player.api(\"play\");\n\t},\n\n\tstopVideo : function(){\n\t\t$('.overlay').removeClass('show');\n    \tsetTimeout(function() { $('.overlay').css('left', '-100%') }, 300);\n    \tVideoPlayer.CACHE.player.api(\"pause\");\n    \tVideoPlayer.CACHE.player = null;\n\t}\n}\n\n\nTemplate.home.helpers({\n    portfolios: function () {\n      return Portfolios.find();\n    }\n});\n\nTemplate.home.events({\n\t'click .play' : function(event){\n\t\tconsole.log(event);\n\t\tconsole.log(Blaze.getData(event.target));\n\t\tVideoPlayer.constructPlayer(event.target);\n\t\tVideoPlayer.playVideo();\n\n\t},\n\n\t'click .overlay' : function(event){\n\t\tVideoPlayer.stopVideo();\n\t}\n});\n\nTemplate.home.rendered = function(){\n\t$(\".video-container\").fitVids();\n\t// Iframe/player variables\n/*\n\n\tvar iframe = $('#video')[0];\n\tvar player = $f(iframe);\n\n  // Open on play\n  $('.play').click(function(){\n  \t$('.overlay').css('left', 0)\n    $('.overlay').addClass('show')\n    player.api(\"play\");\n\t});\n\n  // Closes on click outside\n  $('.overlay').click(function(){\n    $('.overlay').removeClass('show')\n    setTimeout(function() {\n      $('.overlay').css('left', '-100%')\n    }, 300);\n    player.api(\"pause\");\n  })\n\n*/\n\n};\n"]},"hash":"9452fdf39c8212fb884aa1ddc6c083c2e0e12b7e"}
