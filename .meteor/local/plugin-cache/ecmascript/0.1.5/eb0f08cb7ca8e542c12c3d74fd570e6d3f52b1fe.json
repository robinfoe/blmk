{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"Template.portfolioList.onCreated(function () {\n\tthis.subscribe('portfolios');\n});\n\nTemplate.portfolioList.helpers({\n\tportfolios: function () {\n\n\t\treturn Portfolios.find();\n\t}\n});\n\nTemplate.portfolioList.events({\n\t\"click .button-update\": function () {\n\t\treturn Portfolios.find();\n\t}\n});\n\n/** PORTFOLIO Maintain*****/\n\n// TODO :: what should i do here ?\nvar PortfolioEntity = {\n\tconstructEntity: function (item) {\n\t\tif (typeof item != \"undefined\" && item != null) {\n\t\t\titem._id = item._id._str;\n\t\t\treturn item;\n\t\t}\n\t\treturn { _id: '',\n\t\t\ttitle: '',\n\t\t\tclient: '',\n\t\t\tdescription: '',\n\t\t\tsplash_image: '',\n\t\t\tpublished: '',\n\t\t\tcreatedDate: new Date()\n\t\t};\n\t},\n\tconstructEntityByEvent: function (event) {\n\t\tvar item = PortfolioEntity.constructEntity(null);\n\t\titem._id = event.target.id.value;\n\t\titem.title = event.target.title.value;\n\t\titem.client = event.target.client.value;\n\t\titem.description = event.target.description.value;\n\t\t//item.splash_image=\n\n\t\treturn item;\n\t}\n};\n\nTemplate.portfolioMaintain.onCreated(function () {\n\tvar controller = Iron.controller();\n\tthis.subscribe(\"portfolioById\", controller.params._id);\n\tthis.subscribe('uploads');\n});\n\nTemplate.portfolioMaintain.events({\n\t\"submit .portfolio-maintain\": function (event) {\n\t\t// Prevent default browser form submit\n\t\tevent.preventDefault();\n\t\tvar item = PortfolioEntity.constructEntityByEvent(event);\n\t\t//console.log('before upsert');\n\t\tMeteor.call('upsertProfile', item);\n\t\t//console.log('after upsert');\n\t\t//event.target.title.value = \"\";\n\t\tRouter.go('/backend/portfolio');\n\t}\n});\n\nTemplate.portfolioMaintain.helpers({\n\titem: function () {\n\t\treturn PortfolioEntity.constructEntity(Portfolios.findOne());\n\t}\n});","ast":null,"map":{"version":3,"sources":["/client/templates/backend/portfolio.js"],"names":[],"mappings":"AAAA,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,YAAY;AAC5C,KAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;CAC7B,CAAC,CAAC;;AAEH,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC;AAC9B,WAAU,EAAE,YAAY;;AAEnB,SAAO,UAAU,CAAC,IAAI,EAAE,CAAC;EAC1B;CACJ,CAAC,CAAC;;AAGH,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC;AAC1B,uBAAsB,EAAE,YAAY;AAClC,SAAO,UAAU,CAAC,IAAI,EAAE,CAAC;EAC1B;CACJ,CAAC,CAAC;;;;;AAMH,IAAI,eAAe,GAAG;AACrB,gBAAe,EAAG,UAAS,IAAI,EAAC;AAC/B,MAAG,OAAO,IAAI,IAAI,WAAW,IAAI,IAAI,IAAI,IAAI,EAAC;AAC7C,OAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC;AACzB,UAAO,IAAI,CAAC;GACZ;AACD,SAAO,EAAE,GAAG,EAAG,EAAE;AACZ,QAAK,EAAE,EAAE;AACT,SAAM,EAAG,EAAE;AACX,cAAW,EAAG,EAAE;AAChB,eAAY,EAAG,EAAE;AACjB,YAAS,EAAG,EAAE;AACd,cAAW,EAAG,IAAI,IAAI,EAAE;GACxB,CAAC;EACN;AACD,uBAAsB,EAAG,UAAS,KAAK,EAAC;AACvC,MAAI,IAAI,GAAG,eAAe,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;AACjD,MAAI,CAAC,GAAG,GAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC;AAC1B,MAAI,CAAC,KAAK,GAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC;AACpC,MAAI,CAAC,MAAM,GAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC;AACtC,MAAI,CAAC,WAAW,GAAC,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC;;;AAGhD,SAAO,IAAI,CAAC;EACjB;CACD,CAAC;;AAGF,QAAQ,CAAC,iBAAiB,CAAC,SAAS,CAAC,YAAY;AAChD,KAAI,UAAU,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;AACnC,KAAI,CAAC,SAAS,CAAC,eAAe,EAAC,UAAU,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AACtD,KAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;CAC1B,CAAC,CAAC;;AAEH,QAAQ,CAAC,iBAAiB,CAAC,MAAM,CAAC;AACjC,6BAA4B,EAAE,UAAU,KAAK,EAAE;;AAE1C,OAAK,CAAC,cAAc,EAAE,CAAC;AAC3B,MAAI,IAAI,GAAG,eAAe,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;;AAEzD,QAAM,CAAC,IAAI,CAAC,eAAe,EAAC,IAAI,CAAC,CAAC;;;AAGlC,QAAM,CAAC,EAAE,CAAC,oBAAoB,CAAC,CAAC;EAC7B;CACJ,CAAC,CAAC;;AAEH,QAAQ,CAAC,iBAAiB,CAAC,OAAO,CAAC;AAC/B,KAAI,EAAG,YAAY;AAClB,SAAQ,eAAe,CAAC,eAAe,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC,CAAG;EAChE;CACJ,CAAC,CAAC","file":"/client/templates/backend/portfolio.js.map","sourcesContent":["Template.portfolioList.onCreated(function () {\n\tthis.subscribe('portfolios');\n});\n\nTemplate.portfolioList.helpers({\n\tportfolios: function () {\n\t\t\n      return Portfolios.find();\n    }\n});\n\n\nTemplate.portfolioList.events({\n    \"click .button-update\": function () {\n      return Portfolios.find();\n    }\n});\n\n\n/** PORTFOLIO Maintain*****/\n\n// TODO :: what should i do here ?\nvar PortfolioEntity = {\n\tconstructEntity : function(item){\n\t\tif(typeof item != \"undefined\" && item != null){\n\t\t\titem._id = item._id._str;\n\t\t\treturn item;\n\t\t}\n\t\treturn { _id : '',\n    \t\t\ttitle: '',\n    \t\t\tclient : '',\n    \t\t\tdescription : '',\n    \t\t\tsplash_image : '',\n    \t\t\tpublished : '',\n    \t\t\tcreatedDate : new Date()\n    \t\t};\n\t},\n\tconstructEntityByEvent : function(event){\n\t\tvar item = PortfolioEntity.constructEntity(null);\n\t\titem._id=event.target.id.value;\n      \titem.title=event.target.title.value;\n      \titem.client=event.target.client.value;\n      \titem.description=event.target.description.value;\n      \t//item.splash_image=\n\n      \treturn item;\n\t}\n};\n\n\nTemplate.portfolioMaintain.onCreated(function () {\n\tvar controller = Iron.controller();\n\tthis.subscribe(\"portfolioById\",controller.params._id);\n\tthis.subscribe('uploads');\n});\n\nTemplate.portfolioMaintain.events({\n\t\"submit .portfolio-maintain\": function (event) {\n    \t// Prevent default browser form submit\n     \tevent.preventDefault();\n\t\tvar item = PortfolioEntity.constructEntityByEvent(event);\n\t\t//console.log('before upsert');\n\t\tMeteor.call('upsertProfile',item);\n\t\t//console.log('after upsert');\n\t\t//event.target.title.value = \"\";\n\t\tRouter.go('/backend/portfolio');\n    }\n});\n\nTemplate.portfolioMaintain.helpers({\n    item : function () {\n    \treturn  PortfolioEntity.constructEntity(Portfolios.findOne())  ;\n    }\n});"]},"hash":"eb0f08cb7ca8e542c12c3d74fd570e6d3f52b1fe"}
