{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"//Meteor.subscribe('publicPortfolios', 'Y');\n\nvar VideoPlayer = {\n\tCACHE: {\n\t\tplayer: null\n\t},\n\n\tconstructPlayer: function (target) {\n\n\t\t//console.log(target);\n\t\t//console.log(target.video_url);\n\n\t\t//$(iframe).attr('src',target.video_url);\n\n\t\t//iframe.setAttr('src',target.video_url);\n\n\t},\n\n\tplayVideo: function () {\n\t\t$('#video-container > #video').remove();\n\t\tvar iframe = $('<iframe id=\"video\" src=\"' + target.video_url + '\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>');\n\t\t$('#video-container').append(iframe);\n\n\t\tiframe.load(function () {\n\t\t\tconsole.log('frame loadad');\n\t\t\tvar iframe = $('#video')[0];\n\t\t\tconsole.log(iframe);\n\t\t\tVideoPlayer.CACHE.player = $f(iframe);\n\n\t\t\t$('.overlay').css('left', 0);\n\t\t\t$('.overlay').addClass('show');\n\t\t\tVideoPlayer.CACHE.player.api(\"play\");\n\t\t});\n\t},\n\n\tstopVideo: function () {\n\t\t$('.overlay').removeClass('show');\n\t\tsetTimeout(function () {\n\t\t\t$('.overlay').css('left', '-100%');\n\t\t}, 300);\n\t\tVideoPlayer.CACHE.player.api(\"pause\");\n\t\tVideoPlayer.CACHE.player = null;\n\t}\n};\n\nTemplate.home.helpers({\n\tportfolios: function () {\n\t\treturn Portfolios.find();\n\t}\n});\n\nTemplate.home.events({\n\t'click .play': function (event) {\n\t\tconsole.log(event);\n\t\tconsole.log(Blaze.getData(event.target));\n\t\t//VideoPlayer.constructPlayer();\n\t\tVideoPlayer.playVideo(Blaze.getData(event.target));\n\t},\n\n\t'click .overlay': function (event) {\n\t\tVideoPlayer.stopVideo();\n\t}\n});\n\nTemplate.home.rendered = function () {\n\t$(\".video-container\").fitVids();\n\t// Iframe/player variables\n\t/*\n \n \tvar iframe = $('#video')[0];\n \tvar player = $f(iframe);\n \n   // Open on play\n   $('.play').click(function(){\n   \t$('.overlay').css('left', 0)\n     $('.overlay').addClass('show')\n     player.api(\"play\");\n \t});\n \n   // Closes on click outside\n   $('.overlay').click(function(){\n     $('.overlay').removeClass('show')\n     setTimeout(function() {\n       $('.overlay').css('left', '-100%')\n     }, 300);\n     player.api(\"pause\");\n   })\n \n */\n};","ast":null,"map":{"version":3,"sources":["/client/templates/home.js"],"names":[],"mappings":";;AAEA,IAAI,WAAW,GAAG;AACjB,MAAK,EAAG;AACP,QAAM,EAAG,IAAI;EACb;;AAED,gBAAe,EAAG,UAAS,MAAM,EAAC;;;;;;;;;EAUjC;;AAED,UAAS,EAAG,YAAU;AACrB,GAAC,CAAC,2BAA2B,CAAC,CAAC,MAAM,EAAE,CAAC;AACxC,MAAI,MAAM,GAAG,CAAC,CAAC,0BAA0B,GAAC,MAAM,CAAC,SAAS,GAAC,sFAAsF,CAAC,CAAC;AACnJ,GAAC,CAAC,kBAAkB,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;;AAErC,QAAM,CAAC,IAAI,CAAC,YAAU;AACrB,UAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;AAC5B,OAAI,MAAM,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5B,UAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AACpB,cAAW,CAAC,KAAK,CAAC,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC;;AAEtC,IAAC,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC,CAAA;AACzB,IAAC,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAA;AAC9B,cAAW,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;GACxC,CAAC,CAAC;EAGH;;AAED,UAAS,EAAG,YAAU;AACrB,GAAC,CAAC,UAAU,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;AAC/B,YAAU,CAAC,YAAW;AAAE,IAAC,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,OAAO,CAAC,CAAA;GAAE,EAAE,GAAG,CAAC,CAAC;AACnE,aAAW,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AACtC,aAAW,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;EACnC;CACD,CAAA;;AAGD,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC;AAClB,WAAU,EAAE,YAAY;AACtB,SAAO,UAAU,CAAC,IAAI,EAAE,CAAC;EAC1B;CACJ,CAAC,CAAC;;AAEH,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;AACpB,cAAa,EAAG,UAAS,KAAK,EAAC;AAC9B,SAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACnB,SAAO,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;;AAEzC,aAAW,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;EAEnD;;AAED,iBAAgB,EAAG,UAAS,KAAK,EAAC;AACjC,aAAW,CAAC,SAAS,EAAE,CAAC;EACxB;CACD,CAAC,CAAC;;AAEH,QAAQ,CAAC,IAAI,CAAC,QAAQ,GAAG,YAAU;AAClC,EAAC,CAAC,kBAAkB,CAAC,CAAC,OAAO,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;CAyBhC,CAAC","file":"/client/templates/home.js.map","sourcesContent":["//Meteor.subscribe('publicPortfolios', 'Y');\n\nvar VideoPlayer = {\n\tCACHE : {\n\t\tplayer : null\n\t},\n\n\tconstructPlayer : function(target){\n\n\t\t//console.log(target);\n\t\t//console.log(target.video_url);\n\t\t\n\t\t\n\t\t//$(iframe).attr('src',target.video_url);\n\t\t\n\t\t//iframe.setAttr('src',target.video_url);\n\t\t\n\t},\n\n\tplayVideo : function(){\n\t\t$('#video-container > #video').remove();\n\t\tvar iframe = $('<iframe id=\"video\" src=\"'+target.video_url+'\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>');\n\t\t$('#video-container').append(iframe);\n\n\t\tiframe.load(function(){\n\t\t\tconsole.log('frame loadad');\n\t\t\tvar iframe = $('#video')[0];\n\t\t\tconsole.log(iframe);\n\t\t\tVideoPlayer.CACHE.player = $f(iframe);\n\t\t\t\n\t\t\t$('.overlay').css('left', 0)\n    \t\t$('.overlay').addClass('show')\n    \t\tVideoPlayer.CACHE.player.api(\"play\");\n\t\t}); \n\n\n\t},\n\n\tstopVideo : function(){\n\t\t$('.overlay').removeClass('show');\n    \tsetTimeout(function() { $('.overlay').css('left', '-100%') }, 300);\n    \tVideoPlayer.CACHE.player.api(\"pause\");\n    \tVideoPlayer.CACHE.player = null;\n\t}\n}\n\n\nTemplate.home.helpers({\n    portfolios: function () {\n      return Portfolios.find();\n    }\n});\n\nTemplate.home.events({\n\t'click .play' : function(event){\n\t\tconsole.log(event);\n\t\tconsole.log(Blaze.getData(event.target));\n\t\t//VideoPlayer.constructPlayer();\n\t\tVideoPlayer.playVideo(Blaze.getData(event.target));\n\n\t},\n\n\t'click .overlay' : function(event){\n\t\tVideoPlayer.stopVideo();\n\t}\n});\n\nTemplate.home.rendered = function(){\n\t$(\".video-container\").fitVids();\n\t// Iframe/player variables\n/*\n\n\tvar iframe = $('#video')[0];\n\tvar player = $f(iframe);\n\n  // Open on play\n  $('.play').click(function(){\n  \t$('.overlay').css('left', 0)\n    $('.overlay').addClass('show')\n    player.api(\"play\");\n\t});\n\n  // Closes on click outside\n  $('.overlay').click(function(){\n    $('.overlay').removeClass('show')\n    setTimeout(function() {\n      $('.overlay').css('left', '-100%')\n    }, 300);\n    player.api(\"pause\");\n  })\n\n*/\n\n};\n"]},"hash":"88cc0cbe31178097e7e94c40be8ef55f87c58ca8"}
