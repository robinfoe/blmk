[{"type":"js","data":"/* Imports for global scope */\n\nMongoInternals = Package.mongo.MongoInternals;\nMongo = Package.mongo.Mongo;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nDate = Package['es5-shim'].Date;\nparseInt = Package['es5-shim'].parseInt;\nECMAScript = Package.ecmascript.ECMAScript;\nRouter = Package['iron:router'].Router;\nRouteController = Package['iron:router'].RouteController;\nUploadServer = Package['tomi:upload-server'].UploadServer;\nReactiveTable = Package['aslagle:reactive-table'].ReactiveTable;\nPreloader = Package['miro:preloader'].Preloader;\nPreloadController = Package['miro:preloader'].PreloadController;\nReactiveDict = Package['reactive-dict'].ReactiveDict;\nRoles = Package['alanning:roles'].Roles;\nMeteor = Package.meteor.Meteor;\nWebApp = Package.webapp.WebApp;\nmain = Package.webapp.main;\nWebAppInternals = Package.webapp.WebAppInternals;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nDDPServer = Package['ddp-server'].DDPServer;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nbabelHelpers = Package['babel-runtime'].babelHelpers;\nPromise = Package.promise.Promise;\nMap = Package['ecmascript-collections'].Map;\nSet = Package['ecmascript-collections'].Set;\nIron = Package['iron:core'].Iron;\nAccounts = Package['accounts-base'].Accounts;\nAccountsServer = Package['accounts-base'].AccountsServer;\nAutoupdate = Package.autoupdate.Autoupdate;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// lib/collections.js                                                  //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\nPortfolios = new Mongo.Collection(\"portfolio\", { idGeneration: 'MONGO' });\n                                                                       //\n/** UPLOADS ****************/                                          //\nUploads = new Mongo.Collection('uploads');                             // 6\nUploads.allow({                                                        // 7\n\tinsert: function (userId, doc) {                                      // 8\n\t\treturn true;                                                         // 8\n\t},                                                                    //\n\tupdate: function (userId, doc, fields, modifier) {                    // 9\n\t\treturn true;                                                         // 9\n\t}                                                                     //\n});                                                                    //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/lib/collections.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/lib/collections.js"],"names":[],"mappings":";;;;;;;;AAAA,UAAU,GAAG,IAAI,KAAK,CAAC,UAAU,CAAC,WAAW,EAAC,EAAC,YAAY,EAAC,OAAO,EAAC,CAAC,CAAC;;;AAKtE,OAAO,GAAG,IAAI,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;AAC1C,OAAO,CAAC,KAAK,CAAC;AACb,OAAM,EAAE,UAAU,MAAM,EAAE,GAAG,EAAE;AAAC,SAAO,IAAI,CAAC;EAAC;AAC7C,OAAM,EAAE,UAAU,MAAM,EAAE,GAAG,EAAE,MAAM,EAAE,QAAQ,EAAE;AAAC,SAAO,IAAI,CAAC;EAAC;CAC/D,CAAC,CAAC,sE","file":"/lib/collections.js","sourcesContent":["Portfolios = new Mongo.Collection(\"portfolio\",{idGeneration:'MONGO'});\n\n\n\n/** UPLOADS ****************/\nUploads = new Mongo.Collection('uploads');\nUploads.allow({\n\tinsert: function (userId, doc) {return true;},\n\tupdate: function (userId, doc, fields, modifier) {return true;}\n});\n"]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// lib/router.js                                                       //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\nRouter.configure({                                                     // 1\n\t// the default layout                                                 //\n\tlayoutTemplate: 'mainLayout'                                          // 3\n});                                                                    //\n                                                                       //\nRouter.onBeforeAction(function () {                                    // 7\n\tvar backendPrefix = \"/backend\";                                       // 8\n                                                                       //\n\tif (this.url.substring(0, backendPrefix.length) === backendPrefix) {  // 10\n\t\tthis.layout('adminLayout');                                          // 11\n\t} else {                                                              //\n\t\tthis.layout('mainLayout');                                           // 13\n\t}                                                                     //\n\tthis.next();                                                          // 15\n});                                                                    //\n                                                                       //\nRouter.route('/', {                                                    // 18\n\twaitOn: function () {                                                 // 19\n\t\treturn [Meteor.subscribe('publicPortfolios', 'Y'), Meteor.subscribe('uploads')];\n\t},                                                                    //\n\taction: function () {                                                 // 22\n\t\tif (this.ready()) {                                                  // 23\n\t\t\tthis.render('home');                                                // 24\n\t\t} else {                                                             //\n\t\t\t//this.next();                                                      //\n\t\t\t//render splash screen... .                                         //\n\t\t}                                                                    //\n\t}                                                                     //\n                                                                       //\n});                                                                    //\n                                                                       //\n/*** BACK END Router *****************/                                //\n/*                                                                     //\npreload : {                                                            //\n\t'verbose': true,                                                      //\n\t'timeOut': 5000,                                                      //\n\t'sync'   : 'scripts/froogaloop/script.js',                            //\n}                                                                      //\n*/                                                                     //\nRouter.route('/backend/portfolio', {                                   // 43\n\taction: function () {                                                 // 44\n\t\tif (this.ready()) {                                                  // 45\n\t\t\tthis.render('portfolioList');                                       // 46\n\t\t} else {                                                             //\n\t\t\t//this.next();                                                      //\n\t\t\t//render splash screen... .                                         //\n\t\t}                                                                    //\n\t}                                                                     //\n});                                                                    //\n                                                                       //\nRouter.route('/backend/portfolio/maintain/:_id', {                     // 55\n\taction: function () {                                                 // 56\n\t\tif (this.ready()) {                                                  // 57\n\t\t\tthis.render('portfolioMaintain');                                   // 58\n\t\t} else {                                                             //\n\t\t\t//this.next();                                                      //\n\t\t\t//render splash screen... .                                         //\n\t\t}                                                                    //\n\t}                                                                     //\n});                                                                    //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/lib/router.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/lib/router.js"],"names":[],"mappings":";;;;;;;;AAAA,MAAM,CAAC,SAAS,CAAC;;AAEf,eAAc,EAAE,YAAY;CAC7B,CAAC,CAAC;;AAGH,MAAM,CAAC,cAAc,CAAC,YAAU;AAC/B,KAAI,aAAa,GAAG,UAAU,CAAC;;AAE/B,KAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,aAAa,CAAC,MAAM,CAAC,KAAK,aAAa,EAAC;AAChE,MAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;EAC3B,MAAI;AACJ,MAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;EAC1B;AACD,KAAI,CAAC,IAAI,EAAE,CAAC;CACZ,CAAC,CAAC;;AAEH,MAAM,CAAC,KAAK,CAAC,GAAG,EAAG;AAClB,OAAM,EAAE,YAAY;AAChB,SAAO,CAAC,MAAM,CAAC,SAAS,CAAC,kBAAkB,EAAC,GAAG,CAAC,EAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;EACjF;AACD,OAAM,EAAE,YAAU;AACjB,MAAI,IAAI,CAAC,KAAK,EAAE,EAAC;AAChB,OAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;GACpB,MAAI;;;GAGJ;EACD;;CASD,CAAC,CAAC;;;;;;;;;;AAKH,MAAM,CAAC,KAAK,CAAC,oBAAoB,EAAE;AAClC,OAAM,EAAE,YAAU;AACjB,MAAI,IAAI,CAAC,KAAK,EAAE,EAAC;AAChB,OAAI,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;GAC7B,MAAI;;;GAGJ;EACD;CACD,CAAC,CAAC;;AAGH,MAAM,CAAC,KAAK,CAAC,kCAAkC,EAAE;AAChD,OAAM,EAAE,YAAU;AACjB,MAAI,IAAI,CAAC,KAAK,EAAE,EAAC;AAChB,OAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;GACjC,MAAI;;;GAGJ;EACD;CACD,CAAC,CAAC,sE","file":"/lib/router.js","sourcesContent":["Router.configure({\n  // the default layout\n  layoutTemplate: 'mainLayout'\n});  \n\n\nRouter.onBeforeAction(function(){\n\tvar backendPrefix = \"/backend\";\n\n\tif(this.url.substring(0, backendPrefix.length) === backendPrefix){\n\t\tthis.layout('adminLayout');\n\t}else{\n\t\tthis.layout('mainLayout');\n\t}\n\tthis.next();\n});\n\nRouter.route('/' , {\n\twaitOn: function () {\n    \treturn [Meteor.subscribe('publicPortfolios','Y'),Meteor.subscribe('uploads')];\n\t},\n\taction: function(){\n\t\tif (this.ready()){\n\t\t\tthis.render('home');\n\t\t}else{\n\t\t//this.next();\n\t\t//render splash screen... .\n\t\t}\n\t},\n\n\t/*\n\tpreload : {\n\t\t'verbose': true,\n\t\t'timeOut': 5000, \n\t\t'sync'   : 'scripts/froogaloop/script.js',\n\t}\n\t*/\n});\n\n\n\n/*** BACK END Router *****************/\nRouter.route('/backend/portfolio' ,{\n\taction: function(){\n\t\tif (this.ready()){\n\t\t\tthis.render('portfolioList');\n\t\t}else{\n\t\t\t//this.next();\n\t\t\t//render splash screen... .\n\t\t}\n\t}\n});\n\n\nRouter.route('/backend/portfolio/maintain/:_id' ,{\n\taction: function(){\n\t\tif (this.ready()){\n\t\t\tthis.render('portfolioMaintain');\n\t\t}else{\n\t\t\t//this.next();\n\t\t\t//render splash screen... .\n\t\t}\n\t}\n});\n\n\n"]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// server/init.js                                                      //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\nMeteor.startup(function () {                                           // 1\n                                                                       //\n  /** User setup **/                                                   //\n  console.log(Accounts.findUserByUsername('blmkadm'));                 // 4\n  if (typeof Accounts.findUserByUsername('blmkadm') == 'undefined') {  // 5\n    //  var id = Accounts.createUsers({username:'blmkadm' , password:'jarvis',profile:{name:'Brandon Loh'}});\n    // Roles.addUsersToRoles(id, 'admin');                             //\n  } else console.log('user found');                                    //\n                                                                       //\n  var guidGenerator = {                                                // 16\n    generate: function (s) {                                           // 17\n      var p = (Math.random().toString(16) + \"000000000\").substr(2, 8);\n      return s ? \"-\" + p.substr(0, 4) + \"-\" + p.substr(4, 4) : p;      // 19\n    },                                                                 //\n    uniqueKey: function () {                                           // 21\n      return guidGenerator.generate() + guidGenerator.generate(true) + guidGenerator.generate(true) + guidGenerator.generate();\n    }                                                                  //\n                                                                       //\n  };                                                                   //\n                                                                       //\n  UploadServer.init({                                                  // 28\n    tmpDir: process.env.PWD + '/.upload/images/tmp',                   // 29\n    uploadDir: process.env.PWD + '/.upload/images',                    // 30\n    checkCreateDirectories: true, //create the directories for you     // 31\n                                                                       //\n    getDirectory: function (fileInfo, formData) {                      // 33\n      return \"work/images\";                                            // 34\n    },                                                                 //\n                                                                       //\n    getFileName: function (fileInfo, formData) {                       // 37\n      return guidGenerator.uniqueKey() + fileInfo.name; //formData._id +'_'+fileInfo.name;\n    },                                                                 //\n    finished: function (fileInfo, formData) {                          // 40\n      if (formData && formData._id != null) {                          // 41\n        formData.splash_image = Meteor.settings.path.upload + fileInfo.path;\n        //formData.splash_image = 'http://188.166.228.29/upload/' + fileInfo.path;\n        Meteor.call('upsertPortfolio', formData);                      // 44\n      }                                                                //\n    }                                                                  //\n  });                                                                  //\n});                                                                    //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/server/init.js","sourceMap":{"version":3,"sources":["/server/init.js"],"names":[],"mappings":";;;;;;;;AAAA,MAAM,CAAC,OAAO,CAAC,YAAY;;;AAGzB,SAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC;AACpD,MAAG,OAAO,QAAQ,CAAC,kBAAkB,CAAC,SAAS,CAAC,IAAI,WAAW,EAAC;;;GAG/D,MACC,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;;AAO7B,MAAI,aAAa,GAAG;AACnB,YAAQ,EAAG,UAAS,CAAC,EAAC;AACrB,UAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAC,WAAW,EAAE,MAAM,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;AACvD,aAAO,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,EAAC,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,EAAC,CAAC,CAAC,GAAG,CAAC,CAAE;KAChE;AACD,aAAS,EAAG,YAAU;AACrB,aAAO,aAAa,CAAC,QAAQ,EAAE,GAAG,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,aAAa,CAAC,QAAQ,EAAE,CAAC;KACzH;;GAED;;AAGA,cAAY,CAAC,IAAI,CAAC;AAChB,UAAM,EAAE,OAAO,CAAC,GAAG,CAAC,GAAG,GAAG,qBAAqB;AAC/C,aAAS,EAAE,OAAO,CAAC,GAAG,CAAC,GAAG,GAAG,iBAAiB;AAC9C,0BAAsB,EAAE,IAAI;;AAE/B,gBAAY,EAAE,UAAS,QAAQ,EAAE,QAAQ,EAAE;AACtC,aAAO,aAAa,CAAC;KACtB;;AAED,eAAW,EAAE,UAAS,QAAQ,EAAE,QAAQ,EAAE;AACxC,aAAO,aAAa,CAAC,SAAS,EAAE,GAAG,QAAQ,CAAC,IAAI,CAAC;KAClD;AACD,YAAQ,EAAE,UAAS,QAAQ,EAAE,QAAQ,EAAE;AACrC,UAAI,QAAQ,IAAI,QAAQ,CAAC,GAAG,IAAI,IAAI,EAAE;AACpC,gBAAQ,CAAC,YAAY,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC;;AAEpE,cAAM,CAAC,IAAI,CAAC,iBAAiB,EAAE,QAAQ,CAAC,CAAC;OAC1C;KACF;GACF,CAAC,CAAC;CACJ,CAAC,CAAC,sE","file":"/server/init.js","sourcesContent":["Meteor.startup(function () {\n\n  /** User setup **/\n  console.log(Accounts.findUserByUsername('blmkadm'));\n  if(typeof Accounts.findUserByUsername('blmkadm') == 'undefined'){\n  //  var id = Accounts.createUsers({username:'blmkadm' , password:'jarvis',profile:{name:'Brandon Loh'}});\n   // Roles.addUsersToRoles(id, 'admin');\n  }else\n    console.log('user found');\n\n \n\n\n\n\n\tvar guidGenerator = {\n\t\tgenerate : function(s){\n\t\t\tvar p = (Math.random().toString(16)+\"000000000\").substr(2,8);\n        \treturn s ? \"-\" + p.substr(0,4) + \"-\" + p.substr(4,4) : p ;\n\t\t},\n\t\tuniqueKey : function(){\n\t\t\treturn guidGenerator.generate() + guidGenerator.generate(true) + guidGenerator.generate(true) + guidGenerator.generate();\n\t\t}\n\n\t}\n\n\n  UploadServer.init({\n    tmpDir: process.env.PWD + '/.upload/images/tmp',\n    uploadDir: process.env.PWD + '/.upload/images',\n    checkCreateDirectories: true, //create the directories for you\n    \n\tgetDirectory: function(fileInfo, formData) {\n      return \"work/images\";\n    },\n    \n    getFileName: function(fileInfo, formData) {\n      return guidGenerator.uniqueKey() + fileInfo.name;//formData._id +'_'+fileInfo.name;\n    },\n    finished: function(fileInfo, formData) {\n      if (formData && formData._id != null) {\n      \t\tformData.splash_image = Meteor.settings.path.upload + fileInfo.path;\n          //formData.splash_image = 'http://188.166.228.29/upload/' + fileInfo.path;\n      \t\tMeteor.call('upsertPortfolio', formData);\n      }\n    }\n  });\n});\n\n"]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// server/publish.js                                                   //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\nMeteor.publish('publicPortfolios', function (pub) {                    // 1\n\treturn Portfolios.find({ published: pub });                           // 2\n});                                                                    //\n                                                                       //\nMeteor.publish('portfolios', function () {                             // 6\n\treturn Portfolios.find({});                                           // 7\n});                                                                    //\n                                                                       //\nMeteor.publish('portfolioById', function (id) {                        // 10\n\treturn Portfolios.find({ _id: new Mongo.ObjectID(id) });              // 11\n});                                                                    //\n                                                                       //\nMeteor.publish('uploads', function () {                                // 14\n\treturn Uploads.find();                                                // 15\n});                                                                    //\n                                                                       //\nMeteor.methods({                                                       // 20\n\t'upsertPortfolio': function (item) {                                  // 21\n\t\tdelete item.isEdit;                                                  // 22\n\t\tif (!item._id || 0 === item._id.length) {                            // 23\n\t\t\tdelete item._id;                                                    // 24\n\t\t\tPortfolios.insert(item);                                            // 25\n\t\t} else {                                                             //\n\t\t\titem._id = new Mongo.ObjectID(item._id);                            // 27\n\t\t\tPortfolios.update(item._id, item);                                  // 28\n\t\t}                                                                    //\n\t},                                                                    //\n\t'removePortfolio': function (id) {                                    // 31\n\t\tid = new Mongo.ObjectID(id);                                         // 32\n\t\tPortfolios.remove(id);                                               // 33\n\t}                                                                     //\n});                                                                    //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/server/publish.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/server/publish.js"],"names":[],"mappings":";;;;;;;;AAAA,MAAM,CAAC,OAAO,CAAC,kBAAkB,EAAE,UAAS,GAAG,EAAE;AAChD,QAAO,UAAU,CAAC,IAAI,CAAC,EAAC,SAAS,EAAG,GAAG,EAAC,CAAC,CAAC;CAC1C,CAAC,CAAC;;AAGH,MAAM,CAAC,OAAO,CAAC,YAAY,EAAE,YAAW;AACvC,QAAO,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;CAC3B,CAAC,CAAC;;AAEH,MAAM,CAAC,OAAO,CAAC,eAAe,EAAE,UAAS,EAAE,EAAE;AAC5C,QAAO,UAAU,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,IAAI,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAC,CAAC,CAAC;CACtD,CAAC,CAAC;;AAEH,MAAM,CAAC,OAAO,CAAC,SAAS,EAAE,YAAW;AACnC,QAAO,OAAO,CAAC,IAAI,EAAE,CAAC;CACvB,CAAC,CAAC;;AAIH,MAAM,CAAC,OAAO,CAAC;AACd,kBAAiB,EAAG,UAAS,IAAI,EAAC;AACjC,SAAO,IAAI,CAAC,MAAM,CAAC;AACnB,MAAG,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,IAAI,CAAC,GAAG,CAAC,MAAM,EAAC;AACrC,UAAO,IAAI,CAAC,GAAG,CAAC;AAChB,aAAU,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;GACxB,MAAI;AACJ,OAAI,CAAC,GAAG,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACxC,aAAU,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAE,CAAC;GACnC;EACD;AACD,kBAAiB,EAAG,UAAS,EAAE,EAAC;AAC/B,IAAE,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;AAC5B,YAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;EACtB;CACD,CAAC,CAAC,sE","file":"/server/publish.js","sourcesContent":["Meteor.publish('publicPortfolios', function(pub) {\n\treturn Portfolios.find({published : pub});\n});\n\n\nMeteor.publish('portfolios', function() {\n\treturn Portfolios.find({});\n});\n\nMeteor.publish('portfolioById', function(id) {\n\treturn Portfolios.find({_id: new Mongo.ObjectID(id)});\n});\n\nMeteor.publish('uploads', function() {\n  return Uploads.find();\n});\n\n\n\nMeteor.methods({\n\t'upsertPortfolio' : function(item){\n\t\tdelete item.isEdit;\n\t\tif(!item._id || 0 === item._id.length){\n\t\t\tdelete item._id;\n\t\t\tPortfolios.insert(item);\n\t\t}else{\n\t\t\titem._id = new Mongo.ObjectID(item._id);\n\t\t\tPortfolios.update(item._id, item );\n\t\t}\n\t},\n\t'removePortfolio' : function(id){\n\t\tid = new Mongo.ObjectID(id);\n\t\tPortfolios.remove(id);\n\t}\n});"]}}]